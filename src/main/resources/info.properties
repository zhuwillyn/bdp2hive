#ref_url=http://10.1.11.151:8080/cecdata-platform/ref/relationship?databaseId={1}&orgId={2}&strucId={3}
#sql_url=http://10.1.11.151:8080/cecdata-platform/ref/generate
#sql_param={"databaseId":{1},"referenceSQL":{"isConvert": false, "where": [], "join": [], "mainTable": "{2}"},"structId":{3}}

#script=sh /home/hadoop/app/sqoop-1.4.7/bin/sqoop import -Dorg.apache.sqoop.splitter.allow_text_splitter=true --connect 'jdbc:mysql://172.16.11.62:3306/{1}?useUnicode=true&characterEncoding=UTF-8' --username root --password Pwd@123456 --target-dir /test_data/{2} --query '{3} where 1=1 and $CONDITIONS' --num-mappers 1 --append --as-parquetfile\n
# partition_script=sh /home/hadoop/app/sqoop-1.4.7/bin/sqoop import -Dorg.apache.sqoop.splitter.allow_text_splitter=true --connect 'jdbc:mysql://172.16.11.62:3306/{1}?useUnicode=true&characterEncoding=UTF-8' --username root --password Pwd@123456 --target-dir /tmp/{2} --query '{3} where 1=1 and $CONDITIONS' --hive-import --hive-database test --hive-table {4} --fields-terminated-by '^' --hive-partition-key SJYYLJGDM_PARTITION --hive-partition-value {5} --num-mappers 1 --as-textfile\n
partition_script=sh ${sqoop_path}/sqoop import -Dorg.apache.sqoop.splitter.allow_text_splitter=true --connect 'jdbc:mysql://${ip}:${port}/${database}?useUnicode=true&characterEncoding=UTF-8' --username ${username} --password ${password} --target-dir /tmp/${hdfs_path} --query '${sql} where 1=1 and $CONDITIONS' --hive-import --hive-database ${hive_database} --hive-table ${hive_table} --fields-terminated-by '^' --hive-partition-key SJYYLJGDM_PARTITION --hive-partition-value ${partition_value} --num-mappers 1 --as-textfile\n


sqoop.ref.sql=SELECT b.medical_org_name,b.medical_org_code,c.database_name,c.database_address,c.access_port,c.user_name,c.password,d.table_name,e.field_name,f.dataset_item_code,g.dataset_struc_code FROM t_dc_ref a,t_ds_org b,t_ds_database c,t_ds_table d,t_ds_tablefield e,t_dataset_item f, t_dataset_struc g WHERE a.fk_ds_id = e.id AND a.fk_dataset_item_id = f.id AND e.fk_belong_table = d.id AND d.fk_belong_datatable = c.id AND c.fk_belong_org = b.id AND f.fk_dataset_struc_id = g.id
sqoop.ref.sql.condition=AND b.medical_org_code IN (%s)
sqoop.item.sql=SELECT b.dataset_item_code FROM t_dataset_struc a, t_dataset_item b WHERE a.id = b.fk_dataset_struc_id AND dataset_struc_code = '%s'
